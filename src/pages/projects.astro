---
import Navigation from '../components/Navigation.astro';
import ThemeScript from '../components/ThemeScript.astro';
import '../styles/global.css';

const projects = [
  {
    id: 'cloudflare-vpn-replacement',
    title: 'Cloudflare Zero Trust VPN Replacement',
    description:
      'Replaced legacy Cisco AnyConnect VPN infrastructure with Cloudflare Zero Trust solution, eliminating traditional VPN overhead and improving security posture.',
    image: '/blog/cloudflare-zero-trust.svg',
    category: 'Security',
    tags: ['Cloudflare', 'Zero Trust', 'VPN', 'WARP', 'Network Security'],
    highlights: [
      'Migrated from Cisco AnyConnect to Cloudflare WARP',
      'Eliminated VPN concentrators and traditional VPN infrastructure',
      'Implemented application-level access controls',
      'Reduced connection latency by 60%',
      'Enabled seamless remote access without VPN client issues',
    ],
    techStack: ['Cloudflare Zero Trust', 'WARP Client', 'Access Policies', 'Identity Providers'],
    challenges:
      'Replacing entrenched VPN infrastructure while maintaining security and user experience, especially for remote teams',
    solution:
      'Implemented Cloudflare Zero Trust with WARP as a replacement, configured application-level policies, integrated with identity providers for SSO',
  },
  {
    id: 'netapp-dr-bgp-peering',
    title: 'Disaster Recovery with NetApp & BGP Peering',
    description:
      'Architected disaster recovery solution using NetApp replication over GCP-Datacenter interconnect with BGP peering for seamless failover.',
    image: '/blog/dr-infrastructure.svg',
    category: 'Infrastructure',
    tags: ['DR', 'NetApp', 'BGP', 'GCP', 'Interconnect'],
    highlights: [
      'Implemented NetApp replication between datacenter and GCP',
      'Configured BGP peering over Cloud Interconnect',
      'Built automated failover mechanisms',
      'Achieved RPO of 15 minutes and RTO of 1 hour',
      'Validated DR procedures with regular rehearsals',
    ],
    techStack: ['NetApp', 'Cloud Interconnect', 'BGP', 'GCP', 'Terraform'],
    challenges:
      'Ensuring data consistency during replication while maintaining low latency and handling network failover scenarios',
    solution:
      'Leveraged NetApp SnapMirror for replication, configured dedicated Cloud Interconnect with BGP peering for routing, automated failover with health checks',
  },
  {
    id: 'private-google-access',
    title: 'Private Google Access for On-Premises',
    description:
      'Enabled on-premises systems to access Google Cloud APIs privately through Private Google Access without traversing the public internet.',
    image: '/blog/gcp-logo.svg',
    category: 'Networking',
    tags: ['GCP', 'Private Google Access', 'VPC', 'On-Premises', 'Security'],
    highlights: [
      'Configured Private Google Access (PGA) for on-prem connectivity',
      'Eliminated public internet exposure for API calls',
      'Reduced latency for Google Cloud API access',
      'Improved security posture with private connectivity',
      'Enabled hybrid cloud architecture',
    ],
    techStack: ['Private Google Access', 'Cloud Interconnect', 'VPC', 'DNS', 'Routing'],
    challenges:
      'Enabling secure, low-latency access to Google Cloud APIs from on-premises without exposing traffic to the internet',
    solution:
      'Configured Private Google Access over Cloud Interconnect, set up proper DNS resolution for restricted.googleapis.com, established routing policies',
  },
  {
    id: 'gha-oidc-integration',
    title: 'GitHub Actions OIDC with Vault & GCP',
    description:
      'Implemented secure, keyless authentication for GitHub Actions workflows using OIDC to access Vault secrets and GCP resources.',
    image: '/blog/cicd-pipeline.svg',
    category: 'Security',
    tags: ['GitHub Actions', 'OIDC', 'Vault', 'GCP', 'Keyless Auth'],
    highlights: [
      'Eliminated long-lived credentials in CI/CD pipelines',
      'Configured OIDC trust relationships with GitHub',
      'Integrated Vault JWT authentication for secrets',
      'Enabled Workload Identity Federation for GCP',
      'Reduced security risk from leaked credentials',
    ],
    techStack: ['GitHub Actions', 'OIDC', 'HashiCorp Vault', 'GCP Workload Identity', 'JWT'],
    challenges:
      'Securing CI/CD pipelines by eliminating stored credentials while maintaining workflow reliability',
    solution:
      'Configured OIDC providers in Vault and GCP, set up JWT authentication with GitHub tokens, implemented short-lived dynamic credentials',
  },
  {
    id: 'spire-spiffe-wif',
    title: 'SPIRE/SPIFFE with GCP Workload Identity',
    description:
      'Implemented zero-trust workload identity using SPIRE/SPIFFE framework integrated with GCP Workload Identity Federation.',
    image: '/blog/security-icon.svg',
    category: 'Security',
    tags: ['SPIRE', 'SPIFFE', 'Workload Identity', 'GCP', 'mTLS'],
    highlights: [
      'Deployed SPIRE server and agents across infrastructure',
      'Integrated SPIFFE with GCP Workload Identity Federation',
      'Enabled automatic mTLS for service-to-service communication',
      'Implemented workload attestation and identity verification',
      'Eliminated service account key management',
    ],
    techStack: ['SPIRE', 'SPIFFE', 'GCP Workload Identity', 'mTLS', 'X.509 SVIDs'],
    challenges:
      'Establishing cryptographic workload identity without managing long-lived credentials or certificates',
    solution:
      'Deployed SPIRE infrastructure for SPIFFE identity issuance, configured federation with GCP WIF, automated SVID rotation and attestation',
  },
  {
    id: 'ansible-automation-platform',
    title: 'Ansible Automation with Custom Modules',
    description:
      'Built comprehensive Ansible automation platform for on-premises infrastructure lifecycle management with custom Python modules and reusable roles.',
    image: '/blog/ansible-logo.svg',
    category: 'DevOps',
    tags: ['Ansible', 'Automation', 'Python', 'Infrastructure', 'IaC'],
    highlights: [
      'Developed 20+ custom Ansible modules in Python',
      'Created library of reusable roles for common tasks',
      'Automated complete infrastructure lifecycle',
      'Built dynamic inventory with custom sources',
      'Reduced manual operations by 80%',
    ],
    techStack: ['Ansible', 'Python', 'Custom Modules', 'Roles', 'Dynamic Inventory'],
    challenges:
      'Automating complex on-premises infrastructure workflows that required custom logic beyond standard Ansible modules',
    solution:
      'Developed custom Python modules for specialized tasks, created modular role structure for reusability, implemented proper error handling and idempotency',
  },
  {
    id: 'zero-trust-security',
    title: 'Zero Trust Security Architecture',
    description:
      'Designed and implemented enterprise-wide Zero Trust security framework using Cloudflare with just-in-time access controls across multi-cloud environments.',
    image: '/blog/cloudflare-zero-trust.svg',
    category: 'Security',
    tags: ['Cloudflare', 'Zero Trust', 'WARP', 'Security', 'Terraform'],
    highlights: [
      'Implemented Cloudflare Zero Trust with WARP connectors',
      'Built just-in-time access controls and policy engine',
      'Established secure cross-cloud connectivity (GCP ↔ AWS)',
      'Automated ACL policy management with Terraform',
      'Deployed secure tunnels for remote access',
    ],
    techStack: ['Cloudflare Zero Trust', 'WARP Connector', 'Terraform', 'IAM', 'Policy Engine'],
    challenges:
      'Transitioning from traditional perimeter-based security to Zero Trust while maintaining connectivity across GCP, AWS, and on-premises infrastructure without service disruption',
    solution:
      'Phased rollout starting with proof of concept, followed by policy refactoring and automated policy management. Implemented WARP tunnels for multi-cloud connectivity',
  },
  {
    id: 'kubernetes-migration',
    title: 'Multi-Platform Kubernetes Migration',
    description:
      'Led complete platform migration from AWS to Google Kubernetes Engine with 250+ infrastructure improvements and zero downtime.',
    image: '/blog/kubernetes-logo.svg',
    category: 'Cloud Infrastructure',
    tags: ['GKE', 'Kubernetes', 'Migration', 'AWS', 'Traefik'],
    highlights: [
      'Migrated production microservices from AWS to GKE',
      'Deployed Helm charts for 20+ microservices',
      'Modernized ingress architecture with Traefik',
      'Implemented stateful services (MongoDB, Redis) with HA',
      'Achieved 99.9% uptime during migration',
    ],
    techStack: ['GKE', 'Kubernetes', 'Helm', 'Traefik', 'MongoDB', 'Redis', 'Cloud Build'],
    challenges:
      'Migrating stateful databases and ML workloads from AWS to GKE while maintaining data consistency and zero downtime for production services',
    solution:
      'Created new GKE cluster with proper resource allocation, built comprehensive Helm charts, implemented blue-green deployment strategy with phased migration approach',
  },
  {
    id: 'github-actions-platform',
    title: 'Self-Hosted GitHub Actions Platform',
    description:
      'Built and scaled self-hosted GitHub Actions platform on GKE with Arc runners, reducing build times by 70% through intelligent resource management.',
    image: '/blog/cicd-pipeline.svg',
    category: 'DevOps',
    tags: ['GitHub Actions', 'GKE', 'CI/CD', 'Arc', 'Automation'],
    highlights: [
      'Deployed self-hosted GHA runners on GKE with Arc controller',
      'Implemented tiered runners for different workload types',
      'Created custom actions for execution time monitoring',
      'Built dedicated nodepools for test automation',
      'Automated IAM syncing and security practices',
    ],
    techStack: ['GitHub Actions', 'Arc', 'GKE', 'Kubernetes', 'Terraform', 'IAM'],
    challenges:
      'Scaling GitHub Actions to handle enterprise workloads while managing node ephemeral storage constraints and ensuring proper resource allocation',
    solution:
      'Implemented Arc controller on GKE for auto-scaling runners, created tiered runner pools based on workload requirements, built custom metrics integration for monitoring',
  },
  {
    id: 'multi-cloud-iac',
    title: 'Multi-Cloud Infrastructure as Code',
    description:
      'Architected comprehensive Terraform infrastructure managing 100+ cloud projects across GCP, AWS, and on-premises systems.',
    image: '/blog/terraform-logo.svg',
    category: 'Infrastructure',
    tags: ['Terraform', 'IaC', 'GCP', 'Multi-Cloud', 'Terragrunt'],
    highlights: [
      'Organized 100+ cloud projects with hierarchical structure',
      'Built reusable Terraform modules for standardization',
      'Implemented Atlantis for automated workflows',
      'Created custom IAM importer to handle API rate limits',
      'Managed multi-cloud infrastructure across providers',
    ],
    techStack: ['Terraform', 'Terragrunt', 'Atlantis', 'GCP', 'AWS', 'Git'],
    challenges:
      'Managing complex dependencies across 100+ projects, handling cloud provider API rate limits, and standardizing infrastructure code across multiple teams',
    solution:
      'Created modular Terraform architecture with Terragrunt for DRY principles, implemented custom IAM importer with rate limiting, established module review process',
  },
  {
    id: 'gcp-project-management',
    title: 'GCP Organization & Project Management',
    description:
      'Organized and automated management of 100+ GCP projects with hierarchical folders, IAM policies, and cost optimization.',
    image: '/blog/gcp-logo.svg',
    category: 'Cloud Infrastructure',
    tags: ['GCP', 'IAM', 'Organization', 'Automation', 'Cost Optimization'],
    highlights: [
      'Structured 100+ GCP projects into folders and teams',
      'Automated IAM policy management with Terraform',
      'Implemented billing alerts and budget controls',
      'Created custom IAM importer handling API rate limits',
      'Established project lifecycle management',
    ],
    techStack: ['GCP', 'Terraform', 'IAM', 'Cloud Asset Inventory', 'Python'],
    challenges:
      'Managing IAM permissions across 100+ projects while dealing with GCP API rate limits and ensuring security compliance',
    solution:
      'Built custom IAM importer with intelligent rate limiting, automated policy synchronization, and established review workflows for access management',
  },
  {
    id: 'proxmox-automation',
    title: 'Hypervisor Automation Platform',
    description:
      'Automated Proxmox Virtual Environment with PXE boot, clustering, and complete VM lifecycle management.',
    image: '/blog/proxmox-logo.svg',
    category: 'Infrastructure',
    tags: ['Proxmox', 'Automation', 'PXE', 'Virtualization', 'Ansible'],
    highlights: [
      'Automated PXE boot installation and clustering',
      'Built VM provisioning with Packer and Preseed',
      'Implemented load balancing across nodes',
      'Created hybrid inventory management',
      'Reduced deployment time from hours to minutes',
    ],
    techStack: ['Proxmox', 'PXE', 'Packer', 'Ansible', 'Terraform', 'Preseed'],
    challenges:
      'Standardizing VM deployments across multiple hypervisor nodes while managing varied workloads and maintaining cluster stability',
    solution:
      'Created VM image approach with upgradable root disks, implemented PXE automation for consistent installations, built load stabilizer with hybrid inventory support',
  },
  {
    id: 'observability-platform',
    title: 'Enterprise Observability Stack',
    description:
      'Built comprehensive monitoring and alerting platform using Prometheus, Grafana, and OpenTelemetry for distributed systems.',
    image: '/blog/grafana-logo.svg',
    category: 'Monitoring',
    tags: ['Prometheus', 'Grafana', 'OpenTelemetry', 'Monitoring', 'SRE'],
    highlights: [
      'Deployed Prometheus across multiple Kubernetes clusters',
      'Built 50+ custom Grafana dashboards',
      'Implemented OpenTelemetry for distributed tracing',
      'Created automated alerting with escalation policies',
      'Reduced MTTR by 70% through better visibility',
    ],
    techStack: ['Prometheus', 'Grafana', 'OpenTelemetry', 'Loki', 'Tempo', 'PagerDuty'],
    challenges:
      'Correlating metrics, logs, and traces across distributed microservices while avoiding alert fatigue',
    solution:
      'Implemented unified observability with OpenTelemetry, created intelligent alerting with proper thresholds, built comprehensive dashboards for all services',
  },
  {
    id: 'vault-secrets-management',
    title: 'HashiCorp Vault Deployment',
    description:
      'Deployed enterprise-grade secrets management platform using HashiCorp Vault with automated secret rotation and injection.',
    image: '/blog/vault-logo.svg',
    category: 'Security',
    tags: ['Vault', 'Secrets Management', 'Bank-Vaults', 'Kubernetes', 'PKI'],
    highlights: [
      'Deployed HA Vault cluster using Bank-Vaults on GKE',
      'Integrated Vault Agent for automatic secret injection',
      'Implemented dynamic secrets generation',
      'Built PKI infrastructure for certificate management',
      'Automated secret rotation workflows',
    ],
    techStack: ['HashiCorp Vault', 'Bank-Vaults', 'GKE', 'Vault Agent', 'Kubernetes'],
    challenges:
      'Securing secrets at scale while maintaining developer productivity and handling high-availability requirements',
    solution:
      'Deployed Vault with Bank-Vaults framework for HA, integrated Vault Agent for seamless secret injection, implemented automated secret rotation',
  },
  {
    id: 'argocd-gitops',
    title: 'GitOps with ArgoCD',
    description:
      'Implemented GitOps practices using ArgoCD for declarative infrastructure and application deployment across multiple clusters.',
    image: '/blog/argocd-logo.svg',
    category: 'DevOps',
    tags: ['ArgoCD', 'GitOps', 'Kubernetes', 'CD', 'Automation'],
    highlights: [
      'Migrated 30+ services to ArgoCD for GitOps workflows',
      'Implemented declarative infrastructure management',
      'Created GitOps policies and best practices',
      'Automated application deployment pipelines',
      'Enabled self-service deployments for teams',
    ],
    techStack: ['ArgoCD', 'Kubernetes', 'Git', 'Helm', 'Kustomize'],
    challenges:
      'Transitioning from imperative deployments to declarative GitOps while training teams on new workflows',
    solution:
      'Started with pilot services to prove GitOps value, created comprehensive documentation and policies, established ArgoCD as standard deployment method',
  },
  {
    id: 'database-ha-platform',
    title: 'High-Availability Database Platform',
    description:
      'Built and managed HA database platform with MongoDB, Redis, and PostgreSQL clusters with automated backup and recovery.',
    image: '/blog/database-logo.svg',
    category: 'Infrastructure',
    tags: ['MongoDB', 'Redis', 'PostgreSQL', 'HA', 'Backup'],
    highlights: [
      'Deployed MongoDB replica sets with automated failover',
      'Implemented Redis Sentinel for high availability',
      'Built automated backup and recovery procedures',
      'Created monitoring and alerting for all databases',
      'Achieved 99.95% database uptime',
    ],
    techStack: ['MongoDB', 'Redis', 'PostgreSQL', 'Kubernetes', 'Backup Solutions'],
    challenges:
      'Managing stateful database workloads on Kubernetes while ensuring data consistency and minimal downtime during failures',
    solution:
      'Implemented proper StatefulSets with persistent volumes, built automated backup procedures, created comprehensive monitoring and alerting',
  },
  {
    id: 'ml-infrastructure',
    title: 'Machine Learning Infrastructure',
    description:
      'Built scalable infrastructure for ML workloads with GPU support, model storage, and automated deployment pipelines.',
    image: '/blog/ml-infrastructure.svg',
    category: 'Machine Learning',
    tags: ['ML', 'GKE', 'GPU', 'TensorFlow', 'Model Management'],
    highlights: [
      'Deployed GPU-enabled clusters for ML training',
      'Implemented model storage and versioning',
      'Built CI/CD pipelines for ML services',
      'Optimized resource allocation for GPU workloads',
      'Created inference API endpoints',
    ],
    techStack: ['GKE', 'TensorFlow', 'PyTorch', 'GPU', 'Kubeflow', 'Model Registry'],
    challenges:
      'Managing expensive GPU resources efficiently while handling large model files and ensuring reproducible ML pipelines',
    solution:
      'Implemented auto-scaling GPU nodes with preemptible instances, built efficient model caching, created standardized ML deployment pipelines',
  },
  {
    id: 'networking-infrastructure',
    title: 'Cloud Networking & Ingress',
    description:
      'Designed modern networking infrastructure with Traefik, VPC management, DNS automation, and multi-region load balancing.',
    image: '/blog/networking.svg',
    category: 'Networking',
    tags: ['Networking', 'Traefik', 'VPC', 'DNS', 'Load Balancing'],
    highlights: [
      'Modernized ingress with Traefik across clusters',
      'Implemented VPC and subnet management',
      'Automated DNS configuration and updates',
      'Built global load balancing solutions',
      'Configured CDN for static assets',
    ],
    techStack: ['Traefik', 'VPC', 'Cloud DNS', 'Load Balancers', 'CDN'],
    challenges:
      'Migrating from legacy nginx to modern Traefik ingress while maintaining zero downtime for production services',
    solution:
      'Implemented gradual migration with parallel ingress controllers, automated DNS updates, created comprehensive testing procedures',
  },
];

const categories = [...new Set(projects.map((p) => p.category))];

const gitVersion = import.meta.env.GIT_VERSION || 'dev';
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <ThemeScript />
    <title>Projects - Hamdan Radaideh</title>
    <meta
      name="description"
      content="Technical projects portfolio showcasing DevOps, Cloud Infrastructure, and SRE implementations"
    />
  </head>
  <body>
    <Navigation />

    <main>
      <div class="categories-filter">
        <button class="category-btn active" data-category="all">All Projects</button>
        {
          categories.map((category) => (
            <button class="category-btn" data-category={category}>
              {category}
            </button>
          ))
        }
      </div>

      <div class="projects-grid">
        {
          projects.map((project) => (
            <article
              class="project-card"
              data-category={project.category}
              data-project={JSON.stringify({
                id: project.id,
                title: project.title,
                category: project.category,
                description: project.description,
                image: project.image,
                highlights: project.highlights,
                techStack: project.techStack,
                challenges: project.challenges,
                solution: project.solution,
                tags: project.tags,
              })}
            >
              <div class="project-image-container">
                {project.image && (
                  <img
                    src={project.image}
                    alt={project.title}
                    class="project-image"
                    loading="lazy"
                  />
                )}
                <div class="project-category-badge">{project.category}</div>
                <h2 class="project-title">{project.title}</h2>
              </div>
              <div class="project-content">
                <p class="project-description">{project.description}</p>

                <div class="project-highlights">
                  <h3>Key Achievements</h3>
                  <ul>
                    {project.highlights.slice(0, 5).map((highlight) => (
                      <li>{highlight}</li>
                    ))}
                  </ul>
                </div>

                <div class="project-tech">
                  <h3>Tech Stack</h3>
                  <div class="tech-tags">
                    {project.techStack.slice(0, 5).map((tech) => (
                      <span class="tech-tag">{tech}</span>
                    ))}
                    {project.techStack.length > 5 && (
                      <span class="tech-tag more">+{project.techStack.length - 5} more</span>
                    )}
                  </div>
                </div>

                <div class="project-details">
                  <div class="detail-section">
                    <h4>Challenge</h4>
                    <p>{project.challenges}</p>
                  </div>
                  <div class="detail-section">
                    <h4>Solution</h4>
                    <p>{project.solution}</p>
                  </div>
                </div>

                <div class="project-tags">
                  {project.tags.map((tag) => (
                    <span class="tag">{tag}</span>
                  ))}
                </div>
              </div>
            </article>
          ))
        }
      </div>
    </main>

    <!-- Modal for expanded project view -->
    <div id="projectModal" class="modal-overlay">
      <div class="modal-content">
        <div class="modal-header">
          <div class="project-image-container" id="modalImageContainer">
            <img id="modalImage" src="" alt="" class="project-image" loading="lazy" />
            <div class="project-category-badge" id="modalCategory"></div>
            <h2 class="project-title" id="modalTitle">Project Title</h2>
          </div>
        </div>
        <div class="modal-body">
          <p class="project-description" id="modalDescription"></p>

          <div class="project-highlights">
            <h3>Key Achievements</h3>
            <ul id="modalHighlights"></ul>
          </div>

          <div class="project-tech">
            <h3>Technologies & Tags</h3>
            <div class="tech-tags" id="modalAllTags"></div>
          </div>

          <div class="project-details">
            <div class="detail-section">
              <h4>Challenge</h4>
              <p id="modalChallenge"></p>
            </div>
            <div class="detail-section">
              <h4>Solution</h4>
              <p id="modalSolution"></p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="container">
        <p>© {new Date().getFullYear()} Hamdan Radaideh. All rights reserved. | v{gitVersion}</p>
        <div class="social-links">
          <a href="https://github.com/halradaideh" target="_blank" rel="noreferrer">GitHub</a>
          <a href="https://www.linkedin.com/in/hamdan-a-radaideh/" target="_blank" rel="noreferrer"
            >LinkedIn</a
          >
        </div>
      </div>
    </footer>

    <style is:global>
      main {
        width: 100%;
        padding: 2rem 0;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
      }

      .categories-filter {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 3rem;
        flex-wrap: wrap;
        padding: 0 2rem;
      }

      .category-btn {
        padding: 0.6rem 1.2rem;
        background: var(--card-bg);
        border: 2px solid var(--border-color);
        border-radius: 25px;
        color: var(--text-color);
        cursor: pointer;
        font-size: 0.95rem;
        font-weight: 500;
        transition: all 0.3s ease;
      }

      .category-btn:hover {
        border-color: var(--accent-color);
        transform: translateY(-2px);
      }

      .category-btn.active {
        background: var(--accent-color);
        color: white;
        border-color: var(--accent-color);
      }

      .projects-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
        margin-bottom: 3rem;
        max-width: 1400px;
        margin-left: auto;
        margin-right: auto;
        padding: 0 2rem;
      }

      .project-card {
        background: var(--card-bg);
        border: 1px solid var(--border-color);
        border-radius: 12px;
        overflow: hidden;
        transition: all 0.3s ease;
        display: flex;
        flex-direction: column;
        cursor: pointer;
      }

      .project-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 16px var(--shadow-color);
        border-color: var(--accent-color);
      }

      .project-card.expanded:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 24px var(--shadow-color);
      }

      .project-image-container {
        position: relative;
        width: 100%;
        height: 80px;
        background: linear-gradient(135deg, var(--accent-color) 0%, #667eea 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .project-image-container:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .project-image-container .project-title {
        position: relative;
        z-index: 2;
        color: white;
        font-size: 1.4rem;
        font-weight: 700;
        text-align: center;
        margin: 0;
        padding: 0 1rem;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .project-image {
        width: 100%;
        height: 100%;
        object-fit: contain;
        padding: 0.5rem;
        filter: brightness(1.1);
      }

      .project-category-badge {
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
        background: rgba(255, 255, 255, 0.95);
        color: var(--accent-color);
        padding: 0.3rem 0.8rem;
        border-radius: 15px;
        font-size: 0.75rem;
        font-weight: 600;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .project-content {
        padding: 1.5rem;
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      /* Always hide content in grid view - show only in modal */
      .project-card .project-image {
        display: none;
      }

      .project-card .project-category-badge {
        display: none;
      }

      .project-card .project-content {
        display: none;
      }

      .project-content h2 {
        color: var(--heading-color);
        margin: 0 0 1rem 0;
        font-size: 1.4rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .project-content h2::after {
        content: '▼';
        font-size: 0.8rem;
        color: var(--text-muted);
        transition: transform 0.3s ease;
      }

      .project-card.expanded .project-content h2::after {
        transform: rotate(180deg);
      }

      .project-description {
        color: var(--text-color);
        line-height: 1.6;
        margin-bottom: 1.5rem;
      }

      .project-highlights,
      .project-tech,
      .project-details,
      .project-tags {
        max-height: 0;
        overflow: hidden;
        opacity: 0;
        transition: all 0.3s ease;
      }

      /* Show all content in modal */
      .modal-body .project-highlights,
      .modal-body .project-tech,
      .modal-body .project-details,
      .modal-body .project-tags {
        max-height: none;
        opacity: 1;
        overflow: visible;
      }

      .project-card.expanded .project-highlights,
      .project-card.expanded .project-tech,
      .project-card.expanded .project-details,
      .project-card.expanded .project-tags {
        max-height: 2000px;
        opacity: 1;
        margin-bottom: 1.5rem;
      }

      .project-highlights,
      .project-tech {
        margin-bottom: 1.5rem;
      }

      .project-highlights h3,
      .project-tech h3 {
        font-size: 0.95rem;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin: 0 0 0.75rem 0;
      }

      .project-highlights ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .project-highlights li {
        color: var(--text-color);
        padding: 0.4rem 0;
        font-size: 0.95rem;
        line-height: 1.5;
      }

      .project-highlights li::before {
        content: '✓';
        color: var(--accent-color);
        font-weight: bold;
        margin-right: 0.5rem;
      }

      .tech-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
      }

      .tech-tag {
        background: var(--bg-color);
        color: var(--text-color);
        padding: 0.4rem 0.8rem;
        border-radius: 6px;
        font-size: 0.85rem;
        border: 1px solid var(--border-color);
      }

      .tech-tag.more {
        background: var(--accent-color);
        color: white;
        border-color: var(--accent-color);
      }

      .project-details {
        margin: 1.5rem 0;
        padding: 1rem;
        background: var(--bg-color);
        border-radius: 8px;
        border-left: 3px solid var(--accent-color);
      }

      .detail-section {
        margin-bottom: 1rem;
      }

      .detail-section:last-child {
        margin-bottom: 0;
      }

      .detail-section h4 {
        font-size: 0.9rem;
        color: var(--accent-color);
        margin: 0 0 0.5rem 0;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .detail-section p {
        font-size: 0.95rem;
        color: var(--text-color);
        line-height: 1.5;
        margin: 0;
      }

      .project-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        padding-top: 1rem;
      }

      .tag {
        background: transparent;
        color: var(--text-muted);
        padding: 0.3rem 0.7rem;
        border-radius: 15px;
        font-size: 0.8rem;
        border: 1px solid var(--border-color);
      }

      .project-card.hidden {
        display: none;
      }

      .footer {
        background: var(--card-bg);
        border-top: 1px solid var(--border-color);
        padding: 2rem 0;
        color: var(--text-muted);
        width: 100%;
      }

      .footer .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 2rem;
      }

      .footer p {
        margin: 0;
        font-size: 1.1rem;
      }

      .footer .social-links {
        display: flex;
        gap: 1.5rem;
      }

      .footer .social-links a {
        color: var(--text-muted);
        text-decoration: none;
        transition: color 0.2s ease;
        font-size: 1.1rem;
      }

      .footer .social-links a:hover {
        color: var(--text-color);
      }

      /* Modal Styles */
      .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        z-index: 1000;
        overflow-y: auto;
        padding: 2rem;
        animation: fadeIn 0.3s ease;
      }

      .modal-overlay.active {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .modal-content {
        background: var(--bg-color);
        border-radius: 12px;
        max-width: 900px;
        width: 100%;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
        animation: slideUp 0.3s ease;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);

        /* Hide scrollbar but keep functionality */
        scrollbar-width: none; /* Firefox */
        -ms-overflow-style: none; /* IE and Edge */
      }

      .modal-content::-webkit-scrollbar {
        display: none; /* Chrome, Safari, Opera */
      }

      @keyframes slideUp {
        from {
          transform: translateY(50px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      .modal-header {
        padding: 0;
      }

      .modal-header .project-image-container {
        height: 120px;
        border-radius: 12px 12px 0 0;
      }

      /* Hide image in modal, only show in cards if needed */
      .modal-header .project-image {
        display: none !important;
      }

      .modal-header .project-title {
        font-size: 2rem;
        z-index: 3;
        color: white;
      }

      .modal-body {
        padding: 2rem;
      }

      .modal-body .project-description {
        font-size: 1.1rem;
        line-height: 1.6;
        margin-bottom: 2rem;
        color: var(--text-color);
      }

      /* Ensure tags are styled properly in modal */
      .modal-body .tag {
        display: inline-block !important;
        padding: 0.4rem 0.8rem !important;
        background: var(--accent-color) !important;
        color: white !important;
        border-radius: 4px !important;
        font-size: 0.85rem !important;
        margin: 0.25rem !important;
        border: none !important;
        transition: transform 0.2s ease;
      }

      .modal-body .tag:hover {
        transform: translateY(-2px);
        background: #667eea !important;
      }

      .modal-body .tech-tags .tag {
        background: var(--accent-color) !important;
        color: white !important;
        border: none !important;
      }

      .modal-body .project-tags .tag {
        background: var(--accent-color) !important;
        color: white !important;
        border: none !important;
      }

      /* Better styling for highlights list */
      .modal-body .project-highlights ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .modal-body .project-highlights li {
        color: var(--text-color);
        padding: 0.5rem 0;
        font-size: 1rem;
        line-height: 1.5;
        display: flex;
        align-items: flex-start;
      }

      .modal-body .project-highlights li::before {
        content: '✓';
        color: var(--accent-color);
        font-weight: bold;
        font-size: 1.2rem;
        margin-right: 0.75rem;
        flex-shrink: 0;
      }

      @media (max-width: 1200px) {
        .projects-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      @media (max-width: 768px) {
        .projects-grid {
          grid-template-columns: 1fr;
          padding: 0 1rem;
        }

        .modal-overlay {
          padding: 1rem;
        }

        .modal-content {
          max-height: 95vh;
        }

        .modal-header,
        .modal-body {
          padding: 1.5rem;
        }

        .categories-filter {
          gap: 0.5rem;
          padding: 0 1rem;
        }

        .category-btn {
          padding: 0.5rem 1rem;
          font-size: 0.9rem;
        }

        .footer .container {
          flex-direction: column;
          text-align: center;
          gap: 1rem;
        }
      }
    </style>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const categoryBtns = document.querySelectorAll('.category-btn');
        const projectCards = document.querySelectorAll('.project-card');
        const modal = document.getElementById('projectModal');

        // Check if there's a hash in the URL and open that project
        const checkHashAndOpenModal = () => {
          const hash = window.location.hash.substring(1); // Remove the #
          if (hash) {
            // Find the project card with matching ID
            const targetCard = Array.from(projectCards).find((card) => {
              const projectData = JSON.parse(card.getAttribute('data-project'));
              return projectData.id === hash;
            });

            if (targetCard) {
              const projectData = JSON.parse(targetCard.getAttribute('data-project'));
              openModal(projectData);
              // Scroll to top after opening modal
              setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100);
            }
          }
        };

        // Check on page load
        checkHashAndOpenModal();

        // Also check when hash changes (back/forward navigation)
        window.addEventListener('hashchange', checkHashAndOpenModal);

        // Category filtering
        categoryBtns.forEach((btn) => {
          btn.addEventListener('click', () => {
            const category = btn.getAttribute('data-category');

            // Update active button
            categoryBtns.forEach((b) => b.classList.remove('active'));
            btn.classList.add('active');

            // Filter projects
            projectCards.forEach((card) => {
              const cardCategory = card.getAttribute('data-category');
              if (category === 'all' || cardCategory === category) {
                card.classList.remove('hidden');
              } else {
                card.classList.add('hidden');
              }
            });
          });
        });

        // Open modal on card click
        projectCards.forEach((card) => {
          const imageContainer = card.querySelector('.project-image-container');
          if (imageContainer) {
            imageContainer.addEventListener('click', (e) => {
              e.stopPropagation();
              const projectData = JSON.parse(card.getAttribute('data-project'));
              openModal(projectData);
            });
          }
        });

        // Close modal - click anywhere on overlay or press ESC
        modal.addEventListener('click', () => {
          // Close if clicking the overlay itself OR anywhere (including modal content)
          modal.classList.remove('active');
        });

        // Prevent closing when clicking modal content itself (optional, remove if not needed)
        // const modalContent = document.querySelector('.modal-content');
        // modalContent.addEventListener('click', (e) => {
        //   e.stopPropagation();
        // });

        // ESC key to close
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && modal.classList.contains('active')) {
            modal.classList.remove('active');
          }
        });

        function openModal(project) {
          // Populate modal
          document.getElementById('modalTitle').textContent = project.title;
          document.getElementById('modalCategory').textContent = project.category;
          document.getElementById('modalDescription').textContent = project.description;
          document.getElementById('modalChallenge').textContent = project.challenges;
          document.getElementById('modalSolution').textContent = project.solution;

          // Always hide image in modal
          const modalImage = document.getElementById('modalImage');
          modalImage.style.display = 'none';

          // Populate highlights
          const highlightsList = document.getElementById('modalHighlights');
          highlightsList.innerHTML = '';
          project.highlights.forEach((highlight) => {
            const li = document.createElement('li');
            li.textContent = highlight;
            highlightsList.appendChild(li);
          });

          // Populate combined tech stack and tags
          const allTagsDiv = document.getElementById('modalAllTags');
          allTagsDiv.innerHTML = '';

          // Combine tech stack and tags, removing duplicates
          const allTags = [...new Set([...project.techStack, ...project.tags])];

          allTags.forEach((tag) => {
            const span = document.createElement('span');
            span.className = 'tag';
            span.textContent = tag;
            allTagsDiv.appendChild(span);
          });

          // Show modal
          modal.classList.add('active');
        }
      });
    </script>
  </body>
</html>
